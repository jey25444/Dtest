!function(){let e,t,o=localStorage.getItem("authToken"),l="right",n=null,r="R_10",a=0,s=0,c=0,d=0,u=0,i=Array(10).fill(0),g=1e3,m=[],y=[],b=[],E=[];var h,f=!1,I=null,p=0,v=0,C=0,S=0,k=0,B=0,x="OVERUNDER",N=0,L=localStorage.getItem("ticks"),D=localStorage.getItem("stake"),F=localStorage.getItem("martingale"),q=D;q||(q=1);try{let g={0:"#B2EBF2",1:"#FFCDD2",2:"#C5E1A5",3:"#FFF59D",4:"#FFEB3B",5:"#B39DDB",6:"#80CBC4",7:"#C8E6C9",8:"#F8BBD0",9:"#FF7043"};function w(){n=null,a=0,s=0,c=0,d=0,u=0,(t=new WebSocket("wss://ws.binaryws.com/websockets/v3?app_id=69271")).onopen=()=>{console.log("WebSocket connection established"),parseInt(document.getElementById("tickCount").value,10),t.send(JSON.stringify({ticks_history:r,adjust_start_time:1,count:100,end:"latest",start:1,style:"ticks",req_id:3e3})),function(){let e=JSON.stringify({authorize:o,req_id:3111});t.send(e)}()},t.onmessage=o=>{let l=JSON.parse(o.data);if(l){var w=l.echo_req.req_id,_=l.error;if(_){f=!1;var A=_.message;console.log(l),alert(A)}else if(3111===w&&(console.log("authorised..."),function(){let e=JSON.stringify({balance:1,req_id:2112});t.readyState!==WebSocket.CLOSED&&t.send(e)}()),2112===w)e=l.balance.currency;else if(3e3===w){let e=l.history.prices;var O=0;for(let t=0;t<e.length;t++){let o=parseFloat(e[t]);o>O?d++:u++,O=o;var $=(e[t]+"").split(".")[1],T=0;$&&(T=$.length),T>a&&(a=T);let l=o.toFixed(a).split(".")[1];if(l){let e=l.slice(-1),t=parseInt(e);!isNaN(t)&&(i[t]++,t%2==0?s++:c++)}}let o=i.reduce((e,t)=>e+t,0),n=i.map(e=>(e/o*100).toFixed(2)),[g,m,y,b,E,h,f,I,p,v]=n,C=document.querySelectorAll(".circle");n.forEach((e,t)=>{C[t]&&C[t].setAttribute("data-value",parseFloat(e).toFixed(2))}),t.send(JSON.stringify({ticks:r,req_id:3001}))}else if(3001===w){let o,p,v,C,S,k,B,w,_,A;if(document.getElementById("overNum")&&(o=Number(document.getElementById("overNum").value),p=document.getElementById("overSide").value,v=Number(document.getElementById("overDigit").value),C=document.getElementById("overContract").value),document.getElementById("evenNum")&&(S=Number(document.getElementById("evenNum").value),k=document.getElementById("evenSide").value,B=document.getElementById("evenContract").value),document.getElementById("riseNum")&&(w=Number(document.getElementById("riseNum").value),_=document.getElementById("riseSide").value,risenContract=document.getElementById("riseContract").value),l.tick&&void 0!==l.tick.quote){let O=l.tick.quote,R=O.toFixed(a),$=parseInt(R.split(".")[1].slice(-1));b.push($),b.length>o&&b.shift(),E.push($),E.length>S&&E.shift(),y.push($),m.push(Number(R)),m.length>w&&m.shift(),$%2==0?s++:c++,i[$]++;let T=i.reduce((e,t)=>e+t,0),K=i.map(e=>(e/T*100).toFixed(2)),Q=document.querySelectorAll(".circle");K.forEach((e,t)=>{Q[t]&&Q[t].setAttribute("data-value",e)});let X=K.map(Number),Y=Math.max(...X),Z=Math.min(...X);Q.forEach((e,t)=>{e.classList.remove("highest","lowest");let o=Number(e.getAttribute("data-value"));o===Y?e.classList.add("highest"):o===Z&&e.classList.add("lowest")}),document.querySelector(".price").textContent=`PRICE ${R}`,function(e){let t=document.querySelectorAll(".panel:nth-child(2) .button-grid button");for(let e=0;e<t.length-1;e++)t[e].textContent=t[e+1].textContent,t[e].style.backgroundColor=t[e+1].style.backgroundColor;t[t.length-1].textContent=e,t[t.length-1].style.backgroundColor=g[e]}($),function(e){let t=e%2==0,o=document.querySelectorAll(".panel:nth-child(3) .button-grid button");for(let e=0;e<o.length-1;e++)o[e].textContent=o[e+1].textContent,o[e].style.backgroundColor=o[e+1].style.backgroundColor;o[o.length-1].textContent=t?"E":"O",o[o.length-1].style.backgroundColor=t?"#81D4FA":"#FFCDD2"}($),function(e){let t=null!==n&&e>n,o=document.querySelectorAll(".panel:nth-child(4) .button-grid button");for(let e=0;e<o.length-1;e++)o[e].textContent=o[e+1].textContent,o[e].style.backgroundColor=o[e+1].style.backgroundColor;o[o.length-1].textContent=t?"R":"F",o[o.length-1].style.backgroundColor=t?"#81D4FA":"#FFCDD2"}(O),J=$,document.querySelectorAll(".circle").forEach((e,t)=>{t===J?(e.style.backgroundColor="#f44336",e.style.color="#fff"):(e.style.backgroundColor="#121212",e.style.color="white")}),O>n?d++:u++,n=O;let ee=(s/T*100).toFixed(2),et=(c/T*100).toFixed(2);var V=ee,G=et;let eo=document.querySelector(".even-odd-bar + .progress .green"),el=document.querySelector(".even-odd-bar + .progress .red");eo.style.width=V+"%",el.style.width=G+"%";let en=document.querySelector(".even-odd-bar div:nth-child(1)"),er=document.querySelector(".even-odd-bar div:nth-child(2)");en.textContent=`Even ${V}%`,er.textContent=`Odd ${G}%`;let ea=d+u,es=(d/ea*100).toFixed(2),ec=(u/ea*100).toFixed(2);if(function(e,t){let o=document.querySelector(".rise-fall-bar + .progress .green"),l=document.querySelector(".rise-fall-bar + .progress .red");o.style.width=e+"%",l.style.width=t+"%";let n=document.querySelector(".rise-fall-bar div:nth-child(1)"),r=document.querySelector(".rise-fall-bar div:nth-child(2)");n.textContent=`Rise ${e}%`,r.textContent=`Fall ${t}%`}(es,ec),f&&!I&&document.getElementById("bot-status")){let l;document.getElementById("bot-status").textContent="analyzing...";let n=document.querySelectorAll(".dot"),a=document.querySelector(".progress-line");n.forEach((e,t)=>{e.style.backgroundColor="#666",e.classList.remove("glow")});var J,M,U=document.getElementById("dot1");U.classList.add("glow"),a.style.width="0%",U.style.backgroundColor="orange";var W=!0;if(b.length>=o)for(var j=0;j<b.length;j++)">"===p?b[j]<v&&(W=!1):b[j]>v&&(W=!1);var z=!0;if(E.length>=S)for(var j=0;j<E.length;j++)"EVEN"===k?E[j]%2!=0&&(z=!1):E[j]%2==0&&(z=!1);var H=!0;if(m.length>=w){for(var j=0;j<m.length;j++)"RISE"===_?M&&m[j]<M&&(H=!1):M&&m[j]>M&&(H=!1);M=m[j]}var P=!1;"OVERUNDER"===x?W&&(N=v,h="DIGITOVER"===C?"DIGITOVER":"DIGITUNDER",P=!0):"ODDEVEN"===x?z&&(N=null,h="DIGITODD"===B?"DIGITODD":"DIGITEVEN",P=!0):"RISEFALL"===x?H&&(N=null,h="RISE"===A?"CALL":"PUT",P=!0):console.log("what_to_trade",x),P?(L=localStorage.getItem("ticks"),D=localStorage.getItem("stake"),F=localStorage.getItem("martingale"),q=Number(Number(q).toFixed(2)),"OVERUNDER"===x&&(l={buy:1,parameters:{amount:q,barrier:N,basis:"stake",contract_type:h,duration:L,duration_unit:"t",symbol:r,currency:e},price:q,subscribe:1,req_id:3002}),"ODDEVEN"===x|"RISEFALL"===x&&(l={buy:1,parameters:{amount:q,basis:"stake",contract_type:h,duration:L,duration_unit:"t",symbol:r,currency:e},price:q,subscribe:1,req_id:3002}),l&&t.send(JSON.stringify(l))):console.log("is",P,x)}}}else if(3002===w){let t=l.buy,o=l.proposal_open_contract,n=document.querySelectorAll(".dot"),r=document.querySelector(".progress-line");if(n.forEach((e,t)=>{e.style.backgroundColor="#666",e.classList.remove("glow")}),f){if(t){I="buy",document.getElementById("bot-status").textContent="in-contract...";var U=document.getElementById("dot1");r.style.width="0%",U.style.backgroundColor="orange",U.classList.add("glow")}else if(o&&(I=o.status,o.longcode,document.getElementById("bot-status")))if("open"===I){r.style.width="50%";var K=document.getElementById("dot1"),Q=document.getElementById("dot2");K.style.backgroundColor="orange",Q.style.backgroundColor="orange",Q.classList.add("glow")}else{document.getElementById("bot-status").textContent="closing...",r.style.width="100%";var U=document.getElementById("dot3");n.forEach(e=>e.style.backgroundColor="orange"),dot3.classList.add("glow"),p++,v+=Number(o.buy_price),C+=Number(o.payout);let t=new Date(1e3*o.date_start),l=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0");t.getSeconds().toString().padStart(2,"0");let s={time:l+":"+a,asset:o.display_name,stake:o.buy_price,payout:o.profit},c=function(t){let o=document.createElement("tr");return o.innerHTML=`
        <td>${t.time}</td>
        <td>${t.asset}</td>
        <td>${t.stake+" "+e}</td>
        <td>${t.payout+" "+e}</td>
      `,o}(s),d=document.getElementById("bot-table-body");d.insertBefore(c,d.firstChild),F=Number(localStorage.getItem("martingale")),"won"===I?(k++,(q/=F)<Number(D)&&(q=D)):(S++,q*=F),B+=Number(o.profit),R(),f&&(I=null)}}}}}}function _(e,t,o){"run"===o?(t.classList.remove("fa-play"),t.classList.add("fa-stop"),e.style.backgroundColor="red",f=!0):(t.classList.remove("fa-stop"),t.classList.add("fa-play"),e.style.backgroundColor="",f=!1)}function A(){let e=document.getElementById("settingsDialog");e&&(e.style.display="block")}w(),document.getElementById("symbolSelector").addEventListener("change",function(){let e=this.value;console.log("Selected Symbol:",e),r=e,t&&t.close(),w()}),document.getElementById("tickCount").addEventListener("input",()=>{parseInt(document.getElementById("tickCount").value,10)>0&&w()}),document.querySelectorAll("[data-open-settings]").forEach(e=>{e.addEventListener("click",A)}),document.querySelectorAll("[data-play_button]").forEach((e,t)=>{e.addEventListener("click",()=>{x=e.getAttribute("data-contract");let n=localStorage.getItem("ticks");localStorage.getItem("stake"),localStorage.getItem("martingale"),l="left",t%2==0&&(l="right");let r=e.querySelector("i");n?(f?_(e,r,"stop"):_(e,r,"run"),function e(){o=localStorage.getItem("authToken");let t=document.getElementById("slider");if(!t)return void console.log("Slider element not found!");if(f?t.style.display="block":t.style.display="none",f){async function n(){let t;p=0,v=0,C=0,k=0,S=0,B=0,R(),O(t),f?(I=null,document.getElementById("run-button").addEventListener("click",()=>{f=!1,document.querySelectorAll("[data-play_button]").forEach(t=>{let o=t.querySelector("i");_(t,o,"stop"),e()})})):O(t)}let o=null;"right"===l?(t.classList.remove("right"),t.classList.add("left")):(t.classList.remove("left"),t.classList.add("right")),o===l?o=null:(t.classList.add(`open-${l}`),o=l,n())}}()):(document.getElementById("settingsDialog").style.display="block",_(e,r,"stop"))})}),document.getElementById("save")&&document.getElementById("save").addEventListener("click",()=>{let e=document.getElementById("ticksInput").value,t=document.getElementById("stakeInput").value,o=document.getElementById("martingaleInput").value;localStorage.setItem("ticks",e),localStorage.setItem("stake",t),localStorage.setItem("martingale",o),document.getElementById("settingsDialog").style.display="none";let l=document.getElementById("snackbar");l.className="snackbar show",setTimeout(function(){l.className=l.className.replace("show","")},3e3)});function O(e){let t=document.getElementById("run-button"),o=document.getElementById("button-icon"),l=document.getElementById("bot-status");f?(t.style.backgroundColor="red",o.style.borderLeft="none",o.style.width="10px",o.style.height="10px",o.style.backgroundColor="black",l.textContent="Bot is running",l.style.color="#00ff99"):(t.style.backgroundColor="orange",o.style.borderLeft="10px solid black",o.style.width="0",o.style.height="0",o.style.backgroundColor="transparent",l.textContent="Bot is not running",l.style.color="#ffcc99",progressLine.style.width="0%",e&&clearInterval(e),dots.forEach((e,t)=>{e.style.backgroundColor="#666",e.classList.remove("glow")}))}function R(){document.getElementById("tstake").textContent=v.toFixed(2)+" "+e,document.getElementById("tpayout").textContent=C.toFixed(2)+" "+e,document.getElementById("truns").textContent=p,document.getElementById("tlost").textContent=S,document.getElementById("twon").textContent=k,document.getElementById("tploss").textContent=B.toFixed(2)+" "+e}}catch(e){f=!1,console.error("❌ Caught error:",e)}}(),window.onerror=function(e,t,o,l,n){return console.error("Error caught globally:"),console.error(`Message: ${e}`),console.error(`Source: ${t}`),console.error(`Line: ${o}`),console.error(`Column: ${l}`),console.error("Error object:",n),isrunning=!1,!0};